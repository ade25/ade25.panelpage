<div class="contentblock-content">
  <div class="contentblock-header">
    <h2 class="contentblock-title"
        tal:condition="context/headline"
        tal:content="context/headline" />
    <p class="lead contentblock-teaser"
        tal:condition="context/Description"
        tal:content="context/Description" />
  </div>
  <div class="row ppe-row-eq-height">
    <tal:block tal:repeat="col view/stored_layout">
      <div tal:attributes="class string:col-xs-12 col-sm-${col/grid-col} xppe-col-visible"
        tal:define="panel_type col/component;
                    uuid col/uuid;
                    item python:view.panel_item(uuid)">
        <div tal:attributes="class col/klass | string:panel">
          <tal:body tal:condition="python:panel_type == 'text'">
            <div tal:condition="item/text"
                tal:replace="structure item/text/output" />
          </tal:body>
          <tal:body tal:condition="python:panel_type == 'image'">
            <img tal:condition="item/image"
              tal:define="scales item/@@images"
              tal:replace="structure python: scales.tag('image', scale='preview', css_class='img-responsive')"
              />
          </tal:body>
        </div>
      </div>
    </tal:block>
  </div>
</div>